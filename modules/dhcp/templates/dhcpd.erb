server-identifier       <%= dhcp_identifier %>;
ddns-domainname         "<%= dhcp_domainName %>.";
ddns-rev-domainname     "in-addr.arpa.";
ddns-update-style       interim;
ddns-updates            on;
update-static-leases    on;
do-forward-updates      on;
one-lease-per-client    on;
max-lease-time          <%= dhcp_maxLeaseTime %>;
default-lease-time      <%= dhcp_defaultLeaseTime %>;

allow                   client-updates;
allow                   unknown-clients;
allow                   duplicates;

authoritative;


<% dhcp_subnets.each do |subnet| -%>
subnet <%= subnet [ "subnet" ] %> netmask <%= subnet [ "netmask" ] %> {
    range <%= subnet [ "minIp" ] %> <%= subnet [ "maxIp" ] %>
    option subnet-mask <%= subnet [ "subnetMask" ] %>;
    option broadcast-address <%= subnet [ "broadcastAddress" ] %>;
    option routers <%= subnet [ "routers" ] %>;
    option domain-name-servers <%= subnet [ "dnsServers" ] %>;
    option domain-name "<%= subnet [ "domainName" ] %>";
}
<% end -%>

<% dhcp_zones.each |zone| -%>
zone <%= zone %>. {
    primary <%= dhcp_dnsServers %>;
}
<% end -%>

